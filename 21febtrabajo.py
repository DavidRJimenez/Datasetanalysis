# -*- coding: utf-8 -*-
"""21febTrabajo.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1FL_VQI5CxB-_XC3e6Z8KbhfNuw2v8W-c

Trabajo dia 21 Febrero
Grupo: David Ricardo Jimenez,
Cesar Martinez
"""

import pandas as pd
import matplotlib.pyplot  as plt
import seaborn as sns

df = pd.read_csv("/content/schizophrenia_dataset.csv")  # Cambiar nombre si es diferente

# Ver las primeras filas
df.head()

# Informaci√≥n general
print(df.info())

# Resumen estad√≠stico
print(df.describe())

plt.figure(figsize=(8,5))
sns.histplot(df['age'], bins=20, kde=True, color='skyblue')
plt.title("Distribuci√≥n de la Edad")
plt.xlabel("Edad")
plt.ylabel("Frecuencia")
plt.show()

plt.figure(figsize=(8,5))
sns.boxplot(x=df['hospitalizations'], y=df['disease_duration'], palette="coolwarm")
plt.title("Distribuci√≥n de Hospitalizaciones y duracion de la enfermedad")
plt.xlabel("Hospitalizaciones")
plt.ylabel("Duracion Enfermedad")
plt.show()

plt.figure(figsize=(8,5))
sns.scatterplot(x=df['hospitalizations'], y=df['disease_duration'], alpha=0.7)
plt.title("Relaci√≥n entre Hospitalizaciones y Duracion de la Enfermedad")
plt.xlabel("Hospitalizaciones")
plt.ylabel("Duraci√≥n de la enfermedad")
plt.show()

"""Tendencia esperada

    En general, a mayor duraci√≥n de la enfermedad (disease_duration), mayor n√∫mero de hospitalizaciones (hospitalizations).
    Esto es l√≥gico, ya que los pacientes que han tenido la enfermedad por m√°s tiempo tienden a requerir m√°s hospitalizaciones.

Patr√≥n de distribuci√≥n

    Si los puntos se agrupan en l√≠neas verticales, podr√≠a significar que los valores de hospitalizaci√≥n est√°n discretizados (por ejemplo, valores enteros de hospitalizaciones como 0, 1, 2, etc.).
    Si los puntos son muy dispersos sin una tendencia clara, podr√≠a indicar que la duraci√≥n de la enfermedad no es un factor determinante en las hospitalizaciones.

Verificaci√≥n del patr√≥n

    Si la correlaci√≥n entre estas variables fue alta en el heatmap previo (cercana a +0.68), esto respalda la hip√≥tesis de que la duraci√≥n de la enfermedad aumenta la probabilidad de hospitalizaci√≥n.
"""

# Eliminar columnas no num√©ricas para evitar errores en la correlaci√≥n
df_numeric = df.select_dtypes(include=['number'])

# Calcular la matriz de correlaci√≥n
correlation_matrix = df_numeric.corr()

# Crear el heatmap
plt.figure(figsize=(10,6))
sns.heatmap(correlation_matrix, annot=True, cmap="coolwarm", fmt=".2f", linewidths=0.5)
plt.title("Mapa de Calor de Correlaci√≥n entre Variables")
plt.show()

"""Principales Correlaciones Relevantes

    Alta correlaci√≥n positiva (cercana a +1)
        disease_duration vs. diagnosis (0.83) ‚Üí A mayor tiempo de enfermedad, mayor es la confirmaci√≥n del diagn√≥stico.
        hospitalizations vs. disease_duration (0.68) ‚Üí Personas con mayor duraci√≥n de la enfermedad tienden a ser hospitalizadas m√°s veces.
        negative_symptom_score vs. diagnosis (0.84) ‚Üí Diagn√≥sticos m√°s severos se asocian con puntuaciones m√°s altas de s√≠ntomas negativos.
        positive_symptom_score vs. diagnosis (0.85) ‚Üí Similar al caso anterior, los s√≠ntomas positivos tambi√©n est√°n fuertemente relacionados con el diagn√≥stico.

    Alta correlaci√≥n negativa (cercana a -1)
        global_assessment_of_functioning vs. negative_symptom_score (-0.72) ‚Üí A mayor puntuaci√≥n de s√≠ntomas negativos, menor es la funcionalidad global del paciente.
        global_assessment_of_functioning vs. positive_symptom_score (-0.71) ‚Üí Similar a la relaci√≥n anterior, a mayor gravedad de s√≠ntomas, menor capacidad funcional.

    Correlaciones moderadas interesantes
        suicide_attempt vs. positive_symptom_score (0.41) ‚Üí Los intentos de suicidio parecen estar asociados con una mayor puntuaci√≥n de s√≠ntomas positivos.
        stress_factors vs. negative_symptom_score (0.29) ‚Üí El estr√©s parece influir en la gravedad de los s√≠ntomas negativos.
        medication_adherence vs. global_assessment_of_functioning (0.29) ‚Üí Una mejor adherencia a la medicaci√≥n podr√≠a estar asociada con una mayor funcionalidad global.

üìä Posibles Patrones y Tendencias

‚úÖ Duraci√≥n de la enfermedad y hospitalizaci√≥n

    Personas con mayor tiempo con la enfermedad tienden a ser hospitalizadas con m√°s frecuencia.

‚úÖ S√≠ntomas y funcionalidad

    Los pacientes con s√≠ntomas m√°s graves (positivos y negativos) presentan menor capacidad funcional seg√∫n la evaluaci√≥n global.

‚úÖ Impacto del estr√©s y adherencia al tratamiento

    Los s√≠ntomas negativos tienen una correlaci√≥n moderada con los factores de estr√©s.
    La adherencia a la medicaci√≥n parece tener un impacto positivo en la funcionalidad del paciente.

üìå Conclusiones Claves

üìç Los s√≠ntomas (positivos y negativos) son los factores m√°s fuertemente correlacionados con el diagn√≥stico y la funcionalidad del paciente.
üìç La hospitalizaci√≥n est√° ligada a la duraci√≥n de la enfermedad, lo que sugiere que un diagn√≥stico temprano podr√≠a ayudar a reducir hospitalizaciones.
üìç El estr√©s y la falta de adherencia a la medicaci√≥n pueden influir negativamente en la funcionalidad de los pacientes.
üìç Las intervenciones deben centrarse en mejorar la adherencia al tratamiento y reducir el estr√©s para mejorar la calidad de vida de los pacientes.
"""